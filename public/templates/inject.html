<link rel="stylesheet" href="../css/inject.css">

<div class="bodyOverlay">
    <div class="bodyWrapper">

        <h4><a href="#" ng-click="showDetails = ! showDetails">{{procedure.definition}}</a></h4>



        <div class="container">

            <div class="row">
                <div class="col-lg-2 col-xs-12" class="navbar navbar-inverse">
                    <div data-spy="affix">


                        <h3 class="robotoh3">EATurner:</h3>

                        <input id="i182" type="text" class="form-control" ng-model-options='{ debounce: 250 }' class="inputBox" ng-model="titleSearchQuery" ng-change="turnerTitleSearch()">
                    </div>
                </div>

                <!-- <nav class="col-lg-3">
                    <ul class="nav nav-pills nav-stacked" data-spy="affix" data-offset-top="205">
                        <li class="active"><a href="#section1">Section 1</a></li>
                        <li><a href="#section2">Section 2</a></li>
                        <li><a href="#section3">Section 3</a></li>
                    </ul>
                </nav> -->

                <div class="col-lg-10 col-xs-12">
                    <div class="card-deck-wrapper">
                        <div class="card-deck">
                            <div class="card-columns">

                                <div ng-repeat="event in movieData.data | orderBy:order">


                                    <div class="card cardStyle">
                                        <!-- ["Awards", "Genres",
                                            "OtherNames", "Participants", "ReleaseYear",
                                            "Storylines", "TitleId",
                                            "TitleName", "TitleNameSortable", "_id"] -->
                                        <!-- {{event}} -->
                                        <!-- cardOverlay1 -->
                                        <h1 class="robotoh1">{{event.TitleName | json}}</h1>
                                        <p>Release Year: {{event.ReleaseYear | json}}</p>

                                        <div class="cardOverlay3 cardStyle" ng-click="showAwards = ! showAwards">
                                            <h2 class="robotoh2">Awards</h2>
                                            <div class="card cardOverRide" ng-repeat="award in event.Awards | orderBy:order" class="card-block" ng-show="showAwards" ng-if="award.AwardWon !== false">
                                                <p>Year: {{award.AwardYear}}</p>
                                                <p>Participants: {{award.Participants[0]}}</p>
                                                <p>Award: {{award.Award}}</p>
                                                <!-- <p>{{award.AwardWon}} </p> -->
                                                <!-- <div class="theDividingLine"> </div> -->
                                            </div>

                                        </div>

                                        <div class="cardOverlay4 cardStyle" ng-click="showGenres = ! showGenres">
                                            <h2 class="robotoh2">Genres</h2>
                                            <div ng-show="showGenres">
                                                <div class="card cardOverRide" ng-repeat="genre in event.Genres | orderBy:order">
                                                    <p>{{genre}}</p>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- { "IsKey": false, "RoleType": "Advisor", "IsOnScreen": false, "ParticipantType": "Person", "Name": "Miroslav Halik", "ParticipantId": 1002635 } -->

                                        <div class="cardOverlay5 cardStyle" ng-click="showParticipants = ! showParticipants">
                                            <h2 class="robotoh2">Participants</h2>
                                            <div ng-show="showParticipants">
                                                <div class="card cardOverRide" ng-repeat="actor in event.Participants | orderBy:order">
                                                    <p class="robotoHeader">Participant #{{$index}}:</p>
                                                    <!-- <p>{{actor | json}}</p> -->
                                                    <p>Role: {{actor.RoleType | json}}</p>
                                                    <p>Type {{actor.ParticipantType | json}}</p>
                                                    <!-- <p>{{actor.IsKey | json}}</p> -->
                                                    <p>On Screen: {{actor.IsOnScreen | json}}</p>
                                                </div>
                                            </div>
                                        </div>



                                        <div class="cardOverlay6 cardStyle" ng-click="showDetails = ! showDetails">
                                            <h2 class="robotoh2">Storylines</h2>
                                            <div ng-show="showDetails">
                                                <div class="card cardOverRide" ng-repeat="story in event.Storylines | orderBy:order">
                                                    <p class="robotoHeader">Description #{{$index}}:</p>
                                                    <p>{{story.Description | json}}</p>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="cardOverlay7 cardStyle" ng-click="showOtherNames = ! showOtherNames">
                                            <h1 class="robotoh2">Alternate Titles</h1>
                                            <div ng-show="showOtherNames">
                                                <div class="card cardOverRide" ng-repeat="oNames in event.OtherNames | orderBy:order">
                                                    <p class="robotoHeader">Alternate Title #{{$index}}:</p>
                                                    <p>Title: {{oNames.TitleName}}</p>
                                                    <p>Language: {{oNames.TitleNameLanguage}}</p>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- <div class="cardOverlay1">
                                                <h2>TitleId</h2>
                                                <p>{{event.TitleId | json}}</p>
                                            </div> -->

                                        <!-- <div class="cardOverlay1">
                                                <h2>TitleNameSortable</h2>
                                                <p>{{event.TitleNameSortable | json}}</p>
                                            </div> -->

                                        <!-- <div class="cardOverlay1">
                                                <h2>_id</h2>
                                                <p>{{event._id | json}}</p>
                                            </div> -->


                                    </div>
                                </div>

                            </div>
                        </div>



                    </div>
                </div>
            </div>

        </div>
    </div>
</div>

<script>
    // $(document).ready(function() {
    //     var menu = document.querySelector('.stickySideBar');
    //     var menuPosition = menu.getBoundingClientRect();
    //     var placeholder = document.createElement('div');
    //     placeholder.style.width = menuPosition.width + 'px';
    //     placeholder.style.height = menuPosition.height + 'px';
    //     var isAdded = false;
    //
    //     window.addEventListener('scroll', function() {
    //         if (window.pageYOffset >= menuPosition.top && !isAdded) {
    //             menu.classList.add('sticky');
    //             menu.parentNode.insertBefore(placeholder, menu);
    //             isAdded = true;
    //         } else if (window.pageYOffset < menuPosition.top && isAdded) {
    //             menu.classList.remove('sticky');
    //             menu.parentNode.removeChild(placeholder);
    //             isAdded = false;
    //         }
    //     });
    // });
</script>
